   ## Создание сервера с мониторингом

## Описание
При запуске vagrant up произойдет создание сервера на ОС Ubuntu с открытыми портами 3000, 9100, 9090 
и будет сделана его преднастройка с использованием ролей Ansible

## Установка
1. Скачать git репозиторий
2. Запустите vagrant up - после чего ожидайте запуска сервера
3. Как только сервер будет запущен, в брайзере перейдите на localhost:3000, авторизуйтейсь в graphana (admin:admin) и можете переходить в dashbord


## Комментарии по коду
Ansible разбил на следующие роли:
1. Setting - идет настройка сервера. Обновление, после чего скачивания некоторых программы, таких как curl, apt-transport-https
2. Install_Docker - тут идет установка docker и docker-compose. Добавил клюс GPG и репозиторий docker. Также, сделал запуск docker во время старта системы и вывел установленную версию.
3. Settings_monitoring - в данной роли идет уже настройка компонентов для мониторинга, а также создания дашборта.

В папке templates - хранятся все шаблоны которые понадобяться для разворачивания мониторинга. Это файлы дашборда, node_exporter, prometheus. 

name: Install Node_exporter - тут идет скачивания дистрибутива node_exporter, после чего идет его разворачивания.
name: Создание системного сервиса для Node Exporter -  тут идет создания сервиса в Linux, для последующего включения сервиса через systemd. Файл  node_exporter.service храниться в папке templates.


В файле /prometheus.yml IP адрес сервера передаю через встроенные переменные ansible ansible_default_ipv4.address. При разворачивании, IP адрес будет подставлен автоматически. 


Grafana логин/пароль admin/admin - не менял его. 
